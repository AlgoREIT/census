{% extends 'base.html' %}
{% load helpertags %}
{% load humanize %}
{% block content %}
<script type="text/javascript" src="{{ MEDIA_URL }}js/bulkdata.js"></script>
<h1>Download Bulk Census Data</h1>
<p>You can download all data for a given "summary level" in a state as a CSV file. These files contain comparison values for the 2000 census which take into account changes in the table layout, and for census tracts, which have been adjusted for changes in census tract geography.</p>
<p>Because of the volume of data, each SF1 table is a separate download. Use this form to select a state, summary level, and table.
</p>
<form id="bulk-download-builder">
    <label for="state-download" class="bulk-download">State</label><select id="state-download"></select>
    <label for="sumlev-download" class="bulk-download">Summary Level</label><select id="sumlev-download"></select>
    <label for="table-download" class="bulk-download">Table</label><select id="table-download"></select>
    <button type="button" id="start-download">Download</button>
</form>
<p id="bulk-download-url-format-explainer">
    Instead of the form, you can build your own download URLs using this simple pattern: <div id="bulk-download-url-format"><span>{{ settings.API_URL }}/<strong>SS</strong>/all_<strong>LLL</strong>_in_<strong>SS</strong>.<strong>TT</strong>.csv</span></div> with the following substitutions:</p>
    <dl id="bulk-download-url-format-explainer-list">
        <dt>SS</dt><dd>The two-digit State FIPS code (note this appears twice in the URL)</dd>
        <dt>LLL</dt><dd>The three-digit summary level code.</dd>
        <dt>TT</dt><dd>The variable length table code, e.g. <strong>P1</strong> or <strong>H12G</strong></dd>
    </dl>
<p id="gzip-note"><strong>NOTE:</strong> This data is <em>gzip-compressed</em>. Your browser should handle this automatically, but if you are using command-line tools like <code>curl</code> or <code>wget</code> to download the data, you will need to decompress it, <em>even though there is no .gz extension.</em>. For example:</p>
<ul id="gzip-code-example">
    <li>
        <code>curl {{ settings.API_URL }}/09/all_060_in_09.PCT7.csv | gzcat &gt; all_060_in_09.PCT7.csv</code>
    </li>
    <li>
        <code>wget -O - {{ settings.API_URL }}/09/all_060_in_09.PCT7.csv | gzcat &gt; all_060_in_09.PCT7.csv</code>
    </li>
</ul>
For complete Census Bureau Data, see:
<ul id="census-data-links">
    <li><a href="http://www2.census.gov/census_2010/04-Summary_File_1/">Census 2010 Summary File 1</a> (raw data)</li>
    <li><a href="http://www2.census.gov/census_2000/datasets/Summary_File_1/">Census 2000 Summary File 1</a> (raw data)</li>
    <li><a href="http://www.census.gov/geo/www/2010census/tract_rel/tract_rel.html">2010 Census Tract Relationship Files</a></li>
    <li><a href="http://2010.census.gov/news/xls/sf1_crosswalk.xls">Comparing Summary File 1 with Census 2000: Topical cross-walk of table numbers</a></li>
</ul>
{% endblock content %}
